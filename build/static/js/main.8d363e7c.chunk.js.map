{"version":3,"sources":["services/dbactions.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Numbers","props","entries","vals","filt","map","entry","name","number","pers","setPer","regexp","RegExp","matches","filter","x","test","length","ele","Num","type","onClick","myID","window","confirm","dbService","Filter","value","onChange","handler","PersonForm","nameChange","num","numChange","clChange","ErrorNotification","message","className","App","useState","persons","setPersons","newName","setNewName","newNum","setNewNum","newSearch","setNewSearch","noti","setNoti","useEffect","initialBook","search","event","target","undefined","find","returnedPerson","concat","setTimeout","tempID","updatedBook","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8d363e7c.chunk.js","sourcesContent":["import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/api/persons'\nconst baseUrl = '/api/persons'\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteperson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst updateperson = (id, newNumber, newName) => {\n    const request = axios.put(`${baseUrl}/${id}`, { number: newNumber, name: newName })\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll, create, update, deleteperson, updateperson\n}","import React, { useState, useEffect } from 'react'\nimport dbService from './services/dbactions'\n\n\nconst Numbers = (props) => {\n    const entries = props.vals\n\n    if (props.filt === \"\") {\n        return (\n            <div>\n                <h1>Numbers</h1>\n                {entries.map(entry =>\n                    <Num key={entry.id} id={entry.id} name={entry.name} number={entry.number} pers={entries} setPer={props.setPer} />\n                )}\n            </div>\n        )\n    }\n    else {\n        const regexp = new RegExp(props.filt, 'i')\n        const matches = entries.filter(x => regexp.test(x.name))\n        if (matches.length === 0) {\n            return (\n                <div>\n                    <h1>Numbers</h1>\n                    Person Not Found!\n                </div>\n            )\n        }\n        return (\n            <div>\n                <h1>Numbers</h1>\n                {matches.map(ele => <Num key={ele.id} id={ele.id} name={ele.name} number={ele.number}\n                    pers={entries} setPer={props.setPer} />)}\n            </div>\n        )\n    }\n}\n\nconst Num = (props) => {\n    const handleDelete = (myID) => {\n        if (window.confirm(\"you sure you want to delete?\")) {\n            dbService\n                .deleteperson(myID)\n                .then(response => {\n                    props.setPer(props.pers.filter(ele => ele.id !== myID))\n                })\n        }\n    }\n    return (\n        <div>\n            {props.name} {props.number} <button type=\"button\" onClick={() => handleDelete(props.id)} > delete</button>\n        </div>\n    )\n}\n\nconst Filter = (props) => {\n    return (\n        <div>\n            search: <input value={props.value} onChange={props.handler} />\n        </div>\n        )\n}\n\nconst PersonForm = (props) => {\n    return (\n        <form>\n            <div>\n                name: <input value={props.name} onChange={props.nameChange} />\n            </div>\n            <div>\n                number: <input value={props.num} onChange={props.numChange} />\n            </div>\n            <div>\n                <button type=\"button\" onClick={props.clChange}>add</button>\n            </div>\n        </form>\n    )\n}\n\nconst ErrorNotification = ({ message }) => {\n    if (message == null) {\n        return null\n    }\n\n    return (\n        <div className=\"notiDisplay\">{message}</div>\n    )\n\n}\n\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNum, setNewNum] = useState('')\n    const [newSearch, setNewSearch] = useState('')\n    const [noti, setNoti] = useState(null)\n\n    useEffect(() => {\n        dbService\n            .getAll()\n            .then(initialBook => {\n                setPersons(initialBook)\n            })\n    }, [])\n    \n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumChange = (event) => {\n        setNewNum(event.target.value)\n    }\n\n    const handleSearchChange = (event) => {\n        setNewSearch(event.target.value)\n    }\n\n    const handleClick = (event) => {\n        if (newName !== \"\") {\n            if (persons.find(x => x.name === newName) === undefined) {\n                setNoti(newName + ' was added to the phonebook');\n                const personObj = {\n                    name: newName,\n                    number: newNum\n                }\n                dbService\n                    .create(personObj)\n                    .then(returnedPerson => {\n                        setPersons(persons.concat(returnedPerson))\n                        setNewName('')\n                        setNewNum('')\n                    })\n                setTimeout(() => { setNoti(null) }, 5000)\n   \n            }\n            else {\n                if (window.confirm(newName + \" already exists, do you want to replace it\")) {\n                    setNoti(newName + ' number was updated');\n                    const tempID = persons.find(x => x.name === newName).id;\n                    const personObj = {\n                        id: tempID,\n                        name: newName,\n                        number: newNum\n                    }\n                    dbService\n                        .update(tempID, personObj)\n                        .then(updatedBook => {\n                            setPersons(updatedBook)\n                        })\n                    setNewName('')\n                    setNewNum('')\n                    setTimeout(() => { setNoti(null) }, 5000)\n                }\n            }\n        \n        }\n    }\n\n\n\n    return (\n        \n        <div>\n            <h2>Phonebook</h2>\n            <ErrorNotification message={noti} />\n            <Filter search={newSearch} handler={handleSearchChange} />\n            <PersonForm name={newName} nameChange={handleNameChange} num={newNum} numChange={handleNumChange} clChange={handleClick} />\n            <Numbers vals={persons} filt={newSearch} setPer={setPersons} />\n        </div>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\n\nReactDOM.render(\n    <App />,   document.getElementById('root')\n);\n"],"sourceRoot":""}