{"version":3,"sources":["services/dbactions.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","personObj","put","delete","Numbers","props","entries","vals","filt","map","entry","name","number","pers","setPer","regexp","RegExp","matches","filter","x","test","length","ele","Num","type","onClick","myID","window","confirm","dbService","newBook","Filter","value","onChange","handler","PersonForm","nameChange","num","numChange","clChange","ErrorNotification","message","className","App","useState","persons","setPersons","newName","setNewName","newNum","setNewNum","newSearch","setNewSearch","noti","setNoti","useEffect","initialBook","search","event","target","undefined","find","returnedPerson","concat","setTimeout","tempID","updatedBook","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.142206ee.chunk.js","sourcesContent":["import axios from 'axios'\n//const baseUrl = 'http://localhost:3001/api/persons'\nconst baseUrl = '/api/persons'\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, personObj) => {\n    const request = axios.put(`${baseUrl}/${id}`, personObj)\n    return request.then(response => response.data)\n}\n\nconst deleteperson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\n\nexport default {\n    getAll, create, update, deleteperson\n}","import React, { useState, useEffect } from 'react'\nimport dbService from './services/dbactions'\n\n\nconst Numbers = (props) => {\n    const entries = props.vals\n\n    if (props.filt === \"\") {\n        return (\n            <div>\n                <h1>Numbers</h1>\n                {entries.map(entry =>\n                    <Num key={entry.id} id={entry.id} name={entry.name} number={entry.number} pers={entries} setPer={props.setPer} />\n                )}\n            </div>\n        )\n    }\n    else {\n        const regexp = new RegExp(props.filt, 'i')\n        const matches = entries.filter(x => regexp.test(x.name))\n        if (matches.length === 0) {\n            return (\n                <div>\n                    <h1>Numbers</h1>\n                    Person Not Found!\n                </div>\n            )\n        }\n        return (\n            <div>\n                <h1>Numbers</h1>\n                {matches.map(ele => <Num key={ele.id} id={ele.id} name={ele.name} number={ele.number}\n                    pers={entries} setPer={props.setPer} />)}\n            </div>\n        )\n    }\n}\n\nconst Num = (props) => {\n    const handleDelete = (myID) => {\n        if (window.confirm(\"you sure you want to delete?\")) {\n            dbService\n                .deleteperson(myID)\n                .then(newBook => {\n                    props.setPer(newBook)\n                })\n                // .then(response => {\n                //     props.setPer(props.pers.filter(ele => ele.id !== myID))\n                // })\n        }\n    }\n    return (\n        <div>\n            {props.name} {props.number} <button type=\"button\" onClick={() => handleDelete(props.id)} > delete</button>\n        </div>\n    )\n}\n\nconst Filter = (props) => {\n    return (\n        <div>\n            search: <input value={props.value} onChange={props.handler} />\n        </div>\n        )\n}\n\nconst PersonForm = (props) => {\n    return (\n        <form>\n            <div>\n                name: <input value={props.name} onChange={props.nameChange} />\n            </div>\n            <div>\n                number: <input value={props.num} onChange={props.numChange} />\n            </div>\n            <div>\n                <button type=\"button\" onClick={props.clChange}>add</button>\n            </div>\n        </form>\n    )\n}\n\nconst ErrorNotification = ({ message }) => {\n    if (message == null) {\n        return null\n    }\n\n    return (\n        <div className=\"notiDisplay\">{message}</div>\n    )\n\n}\n\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNum, setNewNum] = useState('')\n    const [newSearch, setNewSearch] = useState('')\n    const [noti, setNoti] = useState(null)\n\n    useEffect(() => {\n        dbService\n            .getAll()\n            .then(initialBook => {\n                setPersons(initialBook)\n            })\n    }, [])\n    \n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumChange = (event) => {\n        setNewNum(event.target.value)\n    }\n\n    const handleSearchChange = (event) => {\n        setNewSearch(event.target.value)\n    }\n\n    const handleClick = (event) => {\n        if (newName !== \"\") {\n            if (persons.find(x => x.name === newName) === undefined) {\n                setNoti(newName + ' was added to the phonebook');\n                const personObj = {\n                    name: newName,\n                    number: newNum\n                }\n                dbService\n                    .create(personObj)\n                    .then(returnedPerson => {\n                        setPersons(persons.concat(returnedPerson))\n                        setNewName('')\n                        setNewNum('')\n                    })\n                setTimeout(() => { setNoti(null) }, 5000)\n   \n            }\n            else {\n                if (window.confirm(newName + \" already exists, do you want to replace it\")) {\n                    setNoti(newName + ' number was updated');\n                    const tempID = persons.find(x => x.name === newName).id;\n                    const personObj = {\n                        name: newName,\n                        number: newNum\n                    }\n                    dbService\n                        .update(tempID, personObj)\n                        .then(updatedBook => {\n                            setPersons(updatedBook)\n                        })\n                    setNewName('')\n                    setNewNum('')\n                    setTimeout(() => { setNoti(null) }, 5000)\n                }\n            }\n        \n        }\n    }\n\n\n\n    return (\n        \n        <div>\n            <h2>Phonebook</h2>\n            <ErrorNotification message={noti} />\n            <Filter search={newSearch} handler={handleSearchChange} />\n            <PersonForm name={newName} nameChange={handleNameChange} num={newNum} numChange={handleNumChange} clChange={handleClick} />\n            <Numbers vals={persons} filt={newSearch} setPer={setPersons} />\n        </div>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\n\nReactDOM.render(\n    <App />,   document.getElementById('root')\n);\n"],"sourceRoot":""}