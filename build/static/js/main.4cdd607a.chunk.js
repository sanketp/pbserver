(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var c=t(2),r=t(14),u=t.n(r),i=t(3),a=t(4),o=t.n(a),s="/api/persons",j=function(){return o.a.get(s).then((function(e){return e.data}))},d=function(e){return o.a.post(s,e).then((function(e){return e.data}))},b=function(e,n){return o.a.put("".concat(s,"/").concat(e),n).then((function(e){return e.data}))},l=function(e){return o.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},h=t(0),f=function(e){var n=e.vals;if(""===e.filt)return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Numbers"}),n.map((function(t){return Object(h.jsx)(m,{id:t.id,name:t.name,number:t.number,pers:n,setPer:e.setPer},t.id)}))]});var t=new RegExp(e.filt,"i"),c=n.filter((function(e){return t.test(e.name)}));return 0===c.length?Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Numbers"}),"Person Not Found!"]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Numbers"}),c.map((function(t){return Object(h.jsx)(m,{id:t.id,name:t.name,number:t.number,pers:n,setPer:e.setPer},t.id)}))]})},m=function(e){return Object(h.jsxs)("div",{children:[e.name," ",e.number," ",Object(h.jsx)("button",{type:"button",onClick:function(){return n=e.id,void(window.confirm("you sure you want to delete?")&&l(n).then((function(n){e.setPer(n)})));var n},children:" delete"})]})},O=function(e){return Object(h.jsxs)("div",{children:["search: ",Object(h.jsx)("input",{value:e.value,onChange:e.handler})]})},x=function(e){return Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{children:["name: ",Object(h.jsx)("input",{value:e.name,onChange:e.nameChange})]}),Object(h.jsxs)("div",{children:["number: ",Object(h.jsx)("input",{value:e.num,onChange:e.numChange})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"button",onClick:e.clChange,children:"add"})})]})},v=function(e){var n=e.message;return null==n?null:Object(h.jsx)("div",{className:"notiDisplay",children:n})},p=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],u=Object(c.useState)(""),a=Object(i.a)(u,2),o=a[0],s=a[1],l=Object(c.useState)(""),m=Object(i.a)(l,2),p=m[0],g=m[1],w=Object(c.useState)(""),C=Object(i.a)(w,2),k=C[0],y=C[1],P=Object(c.useState)(null),N=Object(i.a)(P,2),S=N[0],E=N[1];Object(c.useEffect)((function(){j().then((function(e){r(e)}))}),[]);return Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(v,{message:S}),Object(h.jsx)(O,{search:k,handler:function(e){y(e.target.value)}}),Object(h.jsx)(x,{name:o,nameChange:function(e){s(e.target.value)},num:p,numChange:function(e){g(e.target.value)},clChange:function(e){if(""!==o)if(void 0===t.find((function(e){return e.name===o})))d({name:o,number:p}).then((function(e){r(t.concat(e)),s(""),g(""),E(o+" was added to the phonebook")})),setTimeout((function(){E(null)}),5e3);else if(window.confirm(o+" already exists, do you want to replace it")){var n=t.find((function(e){return e.name===o})).id;b(n,{name:o,number:p}).then((function(e){r(e),E(o+" number was updated")})),s(""),g(""),setTimeout((function(){E(null)}),5e3)}}}),Object(h.jsx)(f,{vals:t,filt:k,setPer:r})]})};t(38);u.a.render(Object(h.jsx)(p,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.4cdd607a.chunk.js.map